<!DOCTYPE html>
<html>
    <head>
        <title>Online Store</title>
    </head>
    <body>

        <h1>My Tool Store</h1>

        <table id="products">
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Categories</th>
                </tr>
            </thead>
            <tbody id="insertProducts"></tbody>
        </table>

        <script src="https://code.jquery.com/jquery-2.2.4.min.js"
                integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
                crossorigin="anonymous"></script>

        <script>
			(function () {
				"use strict";
				// TODO: Create an AJAX GET request for the file under data/inventory.json
				$.ajax('data/inventory.json', {
					type: "GET"
				}).done(function(data){
					console.log(data);
					data.forEach(function(e) {
						let table = $("#insertProducts");
						let row = document.createElement("tr");
						let title = document.createElement("td");
						let amount = document.createElement("td");
						let price = document.createElement("td");
						let categories = document.createElement("td");
						title.innerText = e.title;
						amount.innerText = e.quantity;
						price.innerText = e.price;
						categories.innerText = e.categories;
						row.appendChild(title);
						row.appendChild(amount);
						row.appendChild(price);
						row.appendChild(categories);
						table.append(row);
					});
                })
				// TODO: Take the data from inventory.json and append it to the products table
				//       HINT: Your data should come back as a JSON object; use console.log() to inspect
				//             its contents and fields
				//       HINT: You will want to target #insertProducts for your new HTML elements
			})();
			$.ajax('data/inventory.json', {
				type: "POST",
                data: {
					title: "I fix-it kit",
                    quantity: 25,
                    categories: [
                    	"tool",
                        "electronics"
                    ],
                    price: 45
                }
            })
        </script>

    </body>
</html>
